#!/bin/bash

set -euo pipefail

export CHRONOS_PATH="${CHRONOS_PATH:-$HOME/.local/share/chronos}"

source "$CHRONOS_PATH/lib/functions.sh"

source "$CHRONOS_PATH/scripts/00-prerequisites/gum-install.sh"
source "$CHRONOS_PATH/scripts/00-prerequisites/set-variables.sh"
source "$CHRONOS_PATH/scripts/00-prerequisites/yay-install.sh"

source "$CHRONOS_PATH/scripts/01-essentials/cachyos-install.sh"
source "$CHRONOS_PATH/scripts/01-essentials/base-packages.sh"

source $CHRONOS_PATH/scripts/02-hardware/network.sh
source $CHRONOS_PATH/scripts/02-hardware/set-wireless-regdom.sh
source $CHRONOS_PATH/scripts/02-hardware/fix-fkeys.sh
source $CHRONOS_PATH/scripts/02-hardware/bluetooth.sh
source $CHRONOS_PATH/scripts/02-hardware/printer.sh
source $CHRONOS_PATH/scripts/02-hardware/usb-autosuspend.sh
source $CHRONOS_PATH/scripts/02-hardware/fix-f13-amd-audio-input.sh
source $CHRONOS_PATH/scripts/02-hardware/fix-apple-bcm-4360.sh
source $CHRONOS_PATH/scripts/02-hardware/fix-apple-spi-keyboard.sh
source $CHRONOS_PATH/scripts/02-hardware/fix-apple-t2.sh
source $CHRONOS_PATH/scripts/02-hardware/studio-display.sh


gum_style --foreground="#50fa7b" "Installation complete!"
echo
gum_style --foreground="#f1fa8c" "Please reboot your system to complete the installation:"
gum_style --foreground="#8be9fd" "sudo reboot"